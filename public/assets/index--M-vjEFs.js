import{r as c,G as g,j as e,I as _,i as u,L as p}from"./index-DZu0jUOh.js";import{P as x}from"./ProductsSlider-CeN1XtqL.js";import"./ProductCard-n_G8EIMu.js";const C=({allNewestProducts:r})=>{const i=r.map(a=>a.image),d=r.map(a=>a.name),m=r.map(a=>a.category+"/"+a.itemId),[l,o]=c.useState(0),{theme:t}=c.useContext(g),s=c.useRef(null),n=c.useCallback(()=>o(a=>(a+1)%i.length),[i.length]),y=c.useCallback(()=>o(a=>(a-1+i.length)%i.length),[i.length]);c.useEffect(()=>(s.current&&clearInterval(s.current),s.current=setInterval(n,3e3),()=>{s.current&&clearInterval(s.current)}),[]);const j=c.useCallback(a=>{o(a),s.current&&clearInterval(s.current),s.current=setInterval(n,3e3)},[n]),b=c.useCallback(()=>{n(),s.current&&clearInterval(s.current),s.current=setInterval(n,3e3)},[n]),N=c.useCallback(()=>{y(),s.current&&clearInterval(s.current),s.current=setInterval(n,3e3)},[n,y]);return e.jsxs("div",{className:"picturesSlider",children:[e.jsxs("div",{className:"picturesSlider__container",children:[e.jsx("div",{className:"picturesSlider__button",onClick:N,children:e.jsx(_,{icon:u.arrow_left[t]})}),e.jsxs("div",{className:"picturesSlider__content",children:[e.jsxs("div",{className:"picturesSlider__aside",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{className:"picturesSlider__aside-title",children:"Now available"}),e.jsxs("div",{className:"picturesSlider__aside-title",children:["in our store! ",e.jsx(_,{icon:u.ok[t]})]})]}),e.jsx("div",{className:"picturesSlider__aside-description",children:"Be the first"})]}),e.jsx(p,{to:m[l],className:"picturesSlider__aside-action",children:"Order now"}),e.jsx("p",{className:"",children:d[l]})]}),e.jsx("div",{className:"picturesSlider__container-image",children:i.map((a,h)=>e.jsx("img",{src:a,alt:"Slide",className:l===h?"picturesSlider__image picturesSlider__image--active":"picturesSlider__image"},h))})]}),e.jsx("div",{className:"picturesSlider__button",onClick:b,children:e.jsx(_,{icon:u.arrow_right[t]})})]}),e.jsx("div",{className:"picturesSlider__dots",children:i.map((a,h)=>e.jsx("div",{className:l===h?"picturesSlider__dot picturesSlider__dot--active":"picturesSlider__dot",onClick:()=>j(h)},h))})]})},v=()=>{const{allProducts:r}=c.useContext(g),{phonesLength:i,tabletsLength:d,accessoriesLength:m}=c.useMemo(()=>{const l=[],o=[],t=[];return r.forEach(s=>{s.category==="phones"&&l.push(s.id),s.category==="tablets"&&o.push(s.id),s.category==="accessories"&&t.push(s.id)}),{phonesLength:l.length,tabletsLength:o.length,accessoriesLength:t.length}},[r]);return e.jsx("div",{className:"shopByCategory",children:e.jsxs("div",{className:"shopByCategory__container",children:[e.jsx("h2",{className:"shopByCategory__title",children:"Shop by category"}),e.jsxs("div",{className:"shopByCategory__content",children:[e.jsx(p,{to:"/phones",className:"shopByCategory__link",children:e.jsxs("section",{className:"shopByCategory__block",children:[e.jsx("img",{src:"../../../public/img/category-phones.webp",alt:"Category Phones",className:"shopByCategory__block-image"}),e.jsx("h4",{className:"shopByCategory__block-title",children:"Mobile phones"}),e.jsx("span",{className:"shopByCategory__block-description",children:`${i} models`})]})}),e.jsx(p,{to:"/tablets",className:"shopByCategory__link",children:e.jsxs("section",{className:"shopByCategory__block",children:[e.jsx("img",{src:"../../../public/img/category-tablets.webp",alt:"Category Tablets",className:"shopByCategory__block-image"}),e.jsx("h4",{className:"shopByCategory__block-title",children:"Tablets"}),e.jsx("span",{className:"shopByCategory__block-description",children:`${d} models`})]})}),e.jsx(p,{to:"/accessories",className:"shopByCategory__link",children:e.jsxs("section",{className:"shopByCategory__block",children:[e.jsx("img",{src:"../../../public/img/category-accessories.webp",alt:"Category Accessories",className:"shopByCategory__block-image"}),e.jsx("h4",{className:"shopByCategory__block-title",children:"Accessories"}),e.jsx("span",{className:"shopByCategory__block-description",children:`${m} models`})]})})]})]})})},f=()=>{const{allProducts:r}=c.useContext(g);let i=[];const d=c.useMemo(()=>[...r].filter(t=>t.category==="phones").sort((t,s)=>s.year-t.year).slice(0,20),[r]),m=c.useMemo(()=>[...r].filter(t=>t.category==="tablets").sort((t,s)=>s.year-t.year).slice(0,20),[r]),l=c.useMemo(()=>[...r].filter(t=>t.category==="accessories").sort((t,s)=>s.year-t.year).slice(0,20),[r]);i=[...d.slice(0,5),...m.slice(0,5),...l.slice(0,5)];const o=c.useMemo(()=>[...r].map(t=>({...t,discount:(t.fullPrice-t.price)/t.fullPrice*100})).sort((t,s)=>s.discount-t.discount).slice(0,20),[r]);return e.jsxs("div",{className:"homePage",children:[e.jsx("h1",{className:"homePage__title",children:"Welcome to Nice Gadgets store!"}),e.jsx(C,{allNewestProducts:i}),e.jsx(x,{title:"Brand new models",products:d,displayType:"fullPrice"}),e.jsx(v,{}),e.jsx(x,{title:"Hot prices",products:o,displayType:"with-discount"})]})};export{f as HomePage};
